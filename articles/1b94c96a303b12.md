---
title: "OECDパッケージを使ってデータ分析"
emoji: "🤖"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["R", "OECD"]
published: false
---

# 自己紹介

初めてRアドベントカレンダーに参加しています。普段は民間シンクタンクで人事、労働関係の研究をしています。社内にRユーザーがあまりいないので、TwitterでRの話ができるのはとても楽しいです。

# この記事で扱う内容

`OECD` パッケージについて紹介します。

# OECDパッケージとは

公式の文書は[こちら](https://cran.r-project.org/web/packages/OECD/OECD.pdf)にあります。

使用目的はシンプルで、[OECD Stat](https://stats.oecd.org/) から必要なデータを直接取得することができます。

# 分析の流れ

以下の流れを実施します。

1.  まずはパッケージのインストール
2.  実際にデータを取得してみる
3.  R上で加工して可視化

## OECDパッケージのインストールと取得

まずは `{OECD}` パッケージをインストールします。

```{r}
install.packages("OECD")
```

インストールできたら `library` 関数で `{OECD}` パッケージを取得します。

    {r}
    library(OECD)

    > packageVersion("OECD")

    [1] '0.2.4'

`{OECD}` パッケージに含まれる関数は以下のとおりです。

この記事では `search_dataset`、`get_data_structure`、`get_dataset` の3つの関数を扱います。

    browse_metadata         Browse the metadata related to a series.
    get_data_structure      Get the data structure of a dataset.
    get_dataset             Download OECD data sets.
    get_datasets            Get a data frame with information on all available datasets.
    search_dataset          Search codes and descriptions of available OECD series.

## データを取得する

### データの検索

データの検索を行うには `search_dataset` 関数を使用します。例えば今回は各国の経済見通しを調べたいということで、"economic outlook" という文字列を入れてみます。

```{r}
search_dataset(string = "Economic Outlook No")
```

          id           title
    6     EO78_MAIN    Economic Outlook No 78 - December 2005 - Annual Projections for OECD Countries
    9     EO78_TRADE   Economic Outlook No 78 - December 2005 - Annual Trade and Payments Projections
    12             EO77_MAIN     Economic Outlook No 77 - June 2005 - Annual Projections for OECD Countries
    14            EO77_TRADE     Economic Outlook No 77 - June 2005 - Annual Trade and Payments Projections
    64        EO110_INTERNET                                       Economic Outlook No 110 - December 2021.
    1549      EO112_INTERNET                                        Economic Outlook No 112 - November 2022

### メタデータの取得

```{r}
metadata <- OECD::get_data_structure("EO112_INTERNET")
metadata
```
